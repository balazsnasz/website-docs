import { Callout, Steps } from 'nextra/components'

# Typical workflow

Let's see a typical workflow in order to develop a WordPress Plugin.

<Steps>
### Start your Vagrant / Valet environment

Before starting, you have to prepare your developing and testing environment. To do this, you can use a [Vagrant WordPress](https://github.com/gfazioli/VagrantUbuntu) or the [Valet](https://laravel.com/docs/5.2/valet) solution.
We call this environment **WordPress Host**.

### Client Host

If you are on Mac, Window or Linux, I'll assume you have access to **WordPress Host** `plugins` folder by your **Client Host**.
You can install [npm](https://www.npmjs.com/) on either **WordPress Host** or **Client Host** environment or eventually both.

### Clone WP Kirk boilerplate into WordPress plugin

You can clone the WP Kirk boilerplate on both **WordPress Host** and **Client Host** environment.

```shell copy
cd wp-content/plugins
git clone -b boilerplate https://github.com/wpbones/WPKirk.git <your plugin folder>
```

Don't forget

```shell copy
cd <your plugin folder>
rm -rf .git
```

### Check Bones

From **WordPress Host** execute:

```shell copy
php bones
```

You **must** use `php bones` from **WordPress Host**, because it needs to load WordPress environment.

### Naming your plugin

From the **WordPress Host** execute:

```shell copy
php bones install
```

Next, set the plugin name and the plugin namespace.

```shell copy
php bones rename <your-plugin-name> <your-plugin-namespace>
```

### Start developing

Well, now you can go to WordPress backend admin area and activate your plugin and start developing.
Also, review the `readme.txt` file and the `index.php` in order to complete the plugin information.

Remember to review the [WordPress guide lines](before-submit-to-wordpress-repository) and check periodically any WP Bones update, by using:

```shell copy
php bones update
```

Of course, you can start `gulp` in order to compile **less** and **Javascript** files.
To do this, remember to execute:

```shell copy
npm install
```

Or

```shell copy
yarn
```

You may install **npm** in the **WordPress Host** or in the **Client Host**. Next, run:

```shell copy
gulp default
```

In the root folder, you'll find the default `gulp.js` file. WP Bones provides a set of default gulp tasks.
However, feel free to add your own ones.

### Plugin Version

Before creating your plugin deploy version, probably you would update the plugin version. You may use

```shell copy
php bones version
```

You may use a specific version

```shell copy
php bones version v3
```

or auto-increment one of major.minor.patch value

```shell copy
php bones version --patch
```

<Callout type="info">
Remember to follow [SemVer](https://semver.org/) rules.
Here](https://semver.org/) you may found more information about [SemVer](https://semver.org/)
</Callout>


### Before submitting

When your plugin is ready and you are satisfied with it, you can prepare a deploy version, by using:

```shell copy
php bones deploy ../deploy-version
```

### Submit to WordPress repository

You can copy the `deploy-version` content in the WordPress **trunk** subversion folder. Add and commit your files.

</Steps>